
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Login Status</title>
</head>
<body>
    <script>
      window.addEventListener('message', async e => {
        if (e.data.type !== 'getToken') return;
        const resp = await fetch('/sso/login-status', { credentials: 'include' });
        const { token } = await resp.json();
        window.parent.postMessage({ type: 'token', token }, window.location.origin);
      });
    </script>
</body>
</html>
